{"version":3,"sources":["../../../../../node_modules/babel-cli/lib/babel/index.js"],"names":["_keys","require","_keys2","_interopRequireDefault","obj","__esModule","default","fs","commander","kebabCase","options","util","uniq","glob","forEach","key","option","hidden","arg","type","shorthand","desc","deprecated","push","description","join","pkg","version","usage","parse","process","argv","extensions","arrayify","errors","filenames","args","reduce","globbed","input","files","sync","length","concat","filename","existsSync","outDir","outFile","watch","skipInitialBuild","console","error","exit","opts","exports","opt","undefined","ignore","regexify","only","fn"],"mappings":"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","file":"index.js","sourcesContent":["\n\"use strict\";\n\nvar _keys = require(\"babel-runtime/core-js/object/keys\");\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar fs = require(\"fs\");\nvar commander = require(\"commander\");\nvar kebabCase = require(\"lodash/kebabCase\");\nvar options = require(\"babel-core\").options;\nvar util = require(\"babel-core\").util;\nvar uniq = require(\"lodash/uniq\");\nvar glob = require(\"glob\");\n\n(0, _keys2.default)(options).forEach(function (key) {\n  var option = options[key];\n  if (option.hidden) return;\n\n  var arg = kebabCase(key);\n\n  if (option.type !== \"boolean\") {\n    arg += \" [\" + (option.type || \"string\") + \"]\";\n  }\n\n  if (option.type === \"boolean\" && option.default === true) {\n    arg = \"no-\" + arg;\n  }\n\n  arg = \"--\" + arg;\n\n  if (option.shorthand) {\n    arg = \"-\" + option.shorthand + \", \" + arg;\n  }\n\n  var desc = [];\n  if (option.deprecated) desc.push(\"[DEPRECATED] \" + option.deprecated);\n  if (option.description) desc.push(option.description);\n\n  commander.option(arg, desc.join(\" \"));\n});\n\ncommander.option(\"-x, --extensions [extensions]\", \"List of extensions to compile when a directory has been input [.es6,.js,.es,.jsx]\");\ncommander.option(\"-w, --watch\", \"Recompile files on changes\");\ncommander.option(\"--skip-initial-build\", \"Do not compile files before watching\");\ncommander.option(\"-o, --out-file [out]\", \"Compile all input files into a single file\");\ncommander.option(\"-d, --out-dir [out]\", \"Compile an input directory of modules into an output directory\");\ncommander.option(\"-D, --copy-files\", \"When compiling a directory copy over non-compilable files\");\ncommander.option(\"-q, --quiet\", \"Don't log anything\");\n\n\nvar pkg = require(\"../../package.json\");\ncommander.version(pkg.version + \" (babel-core \" + require(\"babel-core\").version + \")\");\ncommander.usage(\"[options] <files ...>\");\ncommander.parse(process.argv);\n\nif (commander.extensions) {\n  commander.extensions = util.arrayify(commander.extensions);\n}\n\nvar errors = [];\n\nvar filenames = commander.args.reduce(function (globbed, input) {\n  var files = glob.sync(input);\n  if (!files.length) files = [input];\n  return globbed.concat(files);\n}, []);\n\nfilenames = uniq(filenames);\n\nfilenames.forEach(function (filename) {\n  if (!fs.existsSync(filename)) {\n    errors.push(filename + \" doesn't exist\");\n  }\n});\n\nif (commander.outDir && !filenames.length) {\n  errors.push(\"filenames required for --out-dir\");\n}\n\nif (commander.outFile && commander.outDir) {\n  errors.push(\"cannot have --out-file and --out-dir\");\n}\n\nif (commander.watch) {\n  if (!commander.outFile && !commander.outDir) {\n    errors.push(\"--watch requires --out-file or --out-dir\");\n  }\n\n  if (!filenames.length) {\n    errors.push(\"--watch requires filenames\");\n  }\n}\n\nif (commander.skipInitialBuild && !commander.watch) {\n  errors.push(\"--skip-initial-build requires --watch\");\n}\n\nif (errors.length) {\n  console.error(errors.join(\". \"));\n  process.exit(2);\n}\n\nvar opts = exports.opts = {};\n\n(0, _keys2.default)(options).forEach(function (key) {\n  var opt = options[key];\n  if (commander[key] !== undefined && commander[key] !== opt.default) {\n    opts[key] = commander[key];\n  }\n});\n\nopts.ignore = util.arrayify(opts.ignore, util.regexify);\n\nif (opts.only) {\n  opts.only = util.arrayify(opts.only, util.regexify);\n}\n\nvar fn = void 0;\n\nif (commander.outDir) {\n  fn = require(\"./dir\");\n} else {\n  fn = require(\"./file\");\n}\n\nfn(commander, filenames, exports.opts);"]}