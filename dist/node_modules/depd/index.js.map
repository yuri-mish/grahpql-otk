{"version":3,"sources":["../../../node_modules/depd/index.js"],"names":["callSiteToString","require","eventListenerCount","relative","module","exports","depd","basePath","process","cwd","containsNamespace","str","namespace","vals","split","ns","String","toLowerCase","i","length","val","convertDataDescriptorToAccessor","obj","prop","message","descriptor","Object","getOwnPropertyDescriptor","value","get","getter","writable","set","setter","defineProperty","createArgumentsString","arity","substr","createStackString","stack","name","TypeError","getStack","site","callSiteLocation","file","deprecate","log","call","_file","_ignored","isignored","_namespace","_traced","istraced","_warned","create","function","wrapfunction","property","wrapproperty","noDeprecation","env","NO_DEPRECATION","traceDeprecation","TRACE_DEPRECATION","haslisteners","caller","callFile","callSite","depSite","seen","key","join","undefined","msg","defaultMessage","err","DeprecationError","slice","emit","format","stderr","isTTY","formatColor","formatPlain","output","write","getFileName","line","getLineNumber","colm","getColumnNumber","isEval","getEvalOrigin","getFunctionName","funcName","formatLocation","context","getThis","typeName","getTypeName","getMethodName","timestamp","Date","toUTCString","formatted","limit","Error","stackTraceLimit","prep","prepareStackTrace","prepareObjectStackTrace","Math","max","captureStackTrace","fn","args","deprecatedfn","eval","configurable","apply","arguments","error","stackString","enumerable"],"mappings":"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","file":"index.js","sourcesContent":["/*!\n * depd\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n/**\n * Module dependencies.\n */\n\nvar callSiteToString = require('./lib/compat').callSiteToString\nvar eventListenerCount = require('./lib/compat').eventListenerCount\nvar relative = require('path').relative\n\n/**\n * Module exports.\n */\n\nmodule.exports = depd\n\n/**\n * Get the path to base files on.\n */\n\nvar basePath = process.cwd()\n\n/**\n * Determine if namespace is contained in the string.\n */\n\nfunction containsNamespace (str, namespace) {\n  var vals = str.split(/[ ,]+/)\n  var ns = String(namespace).toLowerCase()\n\n  for (var i = 0; i < vals.length; i++) {\n    var val = vals[i]\n\n    // namespace contained\n    if (val && (val === '*' || val.toLowerCase() === ns)) {\n      return true\n    }\n  }\n\n  return false\n}\n\n/**\n * Convert a data descriptor to accessor descriptor.\n */\n\nfunction convertDataDescriptorToAccessor (obj, prop, message) {\n  var descriptor = Object.getOwnPropertyDescriptor(obj, prop)\n  var value = descriptor.value\n\n  descriptor.get = function getter () { return value }\n\n  if (descriptor.writable) {\n    descriptor.set = function setter (val) { return (value = val) }\n  }\n\n  delete descriptor.value\n  delete descriptor.writable\n\n  Object.defineProperty(obj, prop, descriptor)\n\n  return descriptor\n}\n\n/**\n * Create arguments string to keep arity.\n */\n\nfunction createArgumentsString (arity) {\n  var str = ''\n\n  for (var i = 0; i < arity; i++) {\n    str += ', arg' + i\n  }\n\n  return str.substr(2)\n}\n\n/**\n * Create stack string from stack.\n */\n\nfunction createStackString (stack) {\n  var str = this.name + ': ' + this.namespace\n\n  if (this.message) {\n    str += ' deprecated ' + this.message\n  }\n\n  for (var i = 0; i < stack.length; i++) {\n    str += '\\n    at ' + callSiteToString(stack[i])\n  }\n\n  return str\n}\n\n/**\n * Create deprecate for namespace in caller.\n */\n\nfunction depd (namespace) {\n  if (!namespace) {\n    throw new TypeError('argument namespace is required')\n  }\n\n  var stack = getStack()\n  var site = callSiteLocation(stack[1])\n  var file = site[0]\n\n  function deprecate (message) {\n    // call to self as log\n    log.call(deprecate, message)\n  }\n\n  deprecate._file = file\n  deprecate._ignored = isignored(namespace)\n  deprecate._namespace = namespace\n  deprecate._traced = istraced(namespace)\n  deprecate._warned = Object.create(null)\n\n  deprecate.function = wrapfunction\n  deprecate.property = wrapproperty\n\n  return deprecate\n}\n\n/**\n * Determine if namespace is ignored.\n */\n\nfunction isignored (namespace) {\n  /* istanbul ignore next: tested in a child processs */\n  if (process.noDeprecation) {\n    // --no-deprecation support\n    return true\n  }\n\n  var str = process.env.NO_DEPRECATION || ''\n\n  // namespace ignored\n  return containsNamespace(str, namespace)\n}\n\n/**\n * Determine if namespace is traced.\n */\n\nfunction istraced (namespace) {\n  /* istanbul ignore next: tested in a child processs */\n  if (process.traceDeprecation) {\n    // --trace-deprecation support\n    return true\n  }\n\n  var str = process.env.TRACE_DEPRECATION || ''\n\n  // namespace traced\n  return containsNamespace(str, namespace)\n}\n\n/**\n * Display deprecation message.\n */\n\nfunction log (message, site) {\n  var haslisteners = eventListenerCount(process, 'deprecation') !== 0\n\n  // abort early if no destination\n  if (!haslisteners && this._ignored) {\n    return\n  }\n\n  var caller\n  var callFile\n  var callSite\n  var depSite\n  var i = 0\n  var seen = false\n  var stack = getStack()\n  var file = this._file\n\n  if (site) {\n    // provided site\n    depSite = site\n    callSite = callSiteLocation(stack[1])\n    callSite.name = depSite.name\n    file = callSite[0]\n  } else {\n    // get call site\n    i = 2\n    depSite = callSiteLocation(stack[i])\n    callSite = depSite\n  }\n\n  // get caller of deprecated thing in relation to file\n  for (; i < stack.length; i++) {\n    caller = callSiteLocation(stack[i])\n    callFile = caller[0]\n\n    if (callFile === file) {\n      seen = true\n    } else if (callFile === this._file) {\n      file = this._file\n    } else if (seen) {\n      break\n    }\n  }\n\n  var key = caller\n    ? depSite.join(':') + '__' + caller.join(':')\n    : undefined\n\n  if (key !== undefined && key in this._warned) {\n    // already warned\n    return\n  }\n\n  this._warned[key] = true\n\n  // generate automatic message from call site\n  var msg = message\n  if (!msg) {\n    msg = callSite === depSite || !callSite.name\n      ? defaultMessage(depSite)\n      : defaultMessage(callSite)\n  }\n\n  // emit deprecation if listeners exist\n  if (haslisteners) {\n    var err = DeprecationError(this._namespace, msg, stack.slice(i))\n    process.emit('deprecation', err)\n    return\n  }\n\n  // format and write message\n  var format = process.stderr.isTTY\n    ? formatColor\n    : formatPlain\n  var output = format.call(this, msg, caller, stack.slice(i))\n  process.stderr.write(output + '\\n', 'utf8')\n}\n\n/**\n * Get call site location as array.\n */\n\nfunction callSiteLocation (callSite) {\n  var file = callSite.getFileName() || '<anonymous>'\n  var line = callSite.getLineNumber()\n  var colm = callSite.getColumnNumber()\n\n  if (callSite.isEval()) {\n    file = callSite.getEvalOrigin() + ', ' + file\n  }\n\n  var site = [file, line, colm]\n\n  site.callSite = callSite\n  site.name = callSite.getFunctionName()\n\n  return site\n}\n\n/**\n * Generate a default message from the site.\n */\n\nfunction defaultMessage (site) {\n  var callSite = site.callSite\n  var funcName = site.name\n\n  // make useful anonymous name\n  if (!funcName) {\n    funcName = '<anonymous@' + formatLocation(site) + '>'\n  }\n\n  var context = callSite.getThis()\n  var typeName = context && callSite.getTypeName()\n\n  // ignore useless type name\n  if (typeName === 'Object') {\n    typeName = undefined\n  }\n\n  // make useful type name\n  if (typeName === 'Function') {\n    typeName = context.name || typeName\n  }\n\n  return typeName && callSite.getMethodName()\n    ? typeName + '.' + funcName\n    : funcName\n}\n\n/**\n * Format deprecation message without color.\n */\n\nfunction formatPlain (msg, caller, stack) {\n  var timestamp = new Date().toUTCString()\n\n  var formatted = timestamp +\n    ' ' + this._namespace +\n    ' deprecated ' + msg\n\n  // add stack trace\n  if (this._traced) {\n    for (var i = 0; i < stack.length; i++) {\n      formatted += '\\n    at ' + callSiteToString(stack[i])\n    }\n\n    return formatted\n  }\n\n  if (caller) {\n    formatted += ' at ' + formatLocation(caller)\n  }\n\n  return formatted\n}\n\n/**\n * Format deprecation message with color.\n */\n\nfunction formatColor (msg, caller, stack) {\n  var formatted = '\\x1b[36;1m' + this._namespace + '\\x1b[22;39m' + // bold cyan\n    ' \\x1b[33;1mdeprecated\\x1b[22;39m' + // bold yellow\n    ' \\x1b[0m' + msg + '\\x1b[39m' // reset\n\n  // add stack trace\n  if (this._traced) {\n    for (var i = 0; i < stack.length; i++) {\n      formatted += '\\n    \\x1b[36mat ' + callSiteToString(stack[i]) + '\\x1b[39m' // cyan\n    }\n\n    return formatted\n  }\n\n  if (caller) {\n    formatted += ' \\x1b[36m' + formatLocation(caller) + '\\x1b[39m' // cyan\n  }\n\n  return formatted\n}\n\n/**\n * Format call site location.\n */\n\nfunction formatLocation (callSite) {\n  return relative(basePath, callSite[0]) +\n    ':' + callSite[1] +\n    ':' + callSite[2]\n}\n\n/**\n * Get the stack as array of call sites.\n */\n\nfunction getStack () {\n  var limit = Error.stackTraceLimit\n  var obj = {}\n  var prep = Error.prepareStackTrace\n\n  Error.prepareStackTrace = prepareObjectStackTrace\n  Error.stackTraceLimit = Math.max(10, limit)\n\n  // capture the stack\n  Error.captureStackTrace(obj)\n\n  // slice this function off the top\n  var stack = obj.stack.slice(1)\n\n  Error.prepareStackTrace = prep\n  Error.stackTraceLimit = limit\n\n  return stack\n}\n\n/**\n * Capture call site stack from v8.\n */\n\nfunction prepareObjectStackTrace (obj, stack) {\n  return stack\n}\n\n/**\n * Return a wrapped function in a deprecation message.\n */\n\nfunction wrapfunction (fn, message) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('argument fn must be a function')\n  }\n\n  var args = createArgumentsString(fn.length)\n  var deprecate = this // eslint-disable-line no-unused-vars\n  var stack = getStack()\n  var site = callSiteLocation(stack[1])\n\n  site.name = fn.name\n\n   // eslint-disable-next-line no-eval\n  var deprecatedfn = eval('(function (' + args + ') {\\n' +\n    '\"use strict\"\\n' +\n    'log.call(deprecate, message, site)\\n' +\n    'return fn.apply(this, arguments)\\n' +\n    '})')\n\n  return deprecatedfn\n}\n\n/**\n * Wrap property in a deprecation message.\n */\n\nfunction wrapproperty (obj, prop, message) {\n  if (!obj || (typeof obj !== 'object' && typeof obj !== 'function')) {\n    throw new TypeError('argument obj must be object')\n  }\n\n  var descriptor = Object.getOwnPropertyDescriptor(obj, prop)\n\n  if (!descriptor) {\n    throw new TypeError('must call property on owner object')\n  }\n\n  if (!descriptor.configurable) {\n    throw new TypeError('property must be configurable')\n  }\n\n  var deprecate = this\n  var stack = getStack()\n  var site = callSiteLocation(stack[1])\n\n  // set site name\n  site.name = prop\n\n  // convert data descriptor\n  if ('value' in descriptor) {\n    descriptor = convertDataDescriptorToAccessor(obj, prop, message)\n  }\n\n  var get = descriptor.get\n  var set = descriptor.set\n\n  // wrap getter\n  if (typeof get === 'function') {\n    descriptor.get = function getter () {\n      log.call(deprecate, message, site)\n      return get.apply(this, arguments)\n    }\n  }\n\n  // wrap setter\n  if (typeof set === 'function') {\n    descriptor.set = function setter () {\n      log.call(deprecate, message, site)\n      return set.apply(this, arguments)\n    }\n  }\n\n  Object.defineProperty(obj, prop, descriptor)\n}\n\n/**\n * Create DeprecationError for deprecation\n */\n\nfunction DeprecationError (namespace, message, stack) {\n  var error = new Error()\n  var stackString\n\n  Object.defineProperty(error, 'constructor', {\n    value: DeprecationError\n  })\n\n  Object.defineProperty(error, 'message', {\n    configurable: true,\n    enumerable: false,\n    value: message,\n    writable: true\n  })\n\n  Object.defineProperty(error, 'name', {\n    enumerable: false,\n    configurable: true,\n    value: 'DeprecationError',\n    writable: true\n  })\n\n  Object.defineProperty(error, 'namespace', {\n    configurable: true,\n    enumerable: false,\n    value: namespace,\n    writable: true\n  })\n\n  Object.defineProperty(error, 'stack', {\n    configurable: true,\n    enumerable: false,\n    get: function () {\n      if (stackString !== undefined) {\n        return stackString\n      }\n\n      // prepare stack trace\n      return (stackString = createStackString.call(this, stack))\n    },\n    set: function setter (val) {\n      stackString = val\n    }\n  })\n\n  return error\n}\n"]}