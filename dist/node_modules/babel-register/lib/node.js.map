{"version":3,"sources":["../../../../node_modules/babel-register/lib/node.js"],"names":["exports","__esModule","_keys","require","_keys2","_interopRequireDefault","_stringify","_stringify2","default","opts","arguments","length","undefined","only","_babelCore","util","arrayify","regexify","ignore","extensions","hookExtensions","cache","_extend2","transformOpts","_cloneDeep","_cloneDeep2","_sourceMapSupport","_sourceMapSupport2","_cache","registerCache","_interopRequireWildcard","_extend","babel","_fs","_fs2","_path","_path2","obj","newObj","key","Object","prototype","hasOwnProperty","call","install","handleUncaughtExceptions","environment","retrieveSourceMap","source","map","maps","url","load","get","oldHandlers","cwd","process","getRelativePath","filename","relative","mtime","statSync","compile","result","OptionManager","init","sourceRoot","dirname","cacheKey","version","env","BABEL_ENV","NODE_ENV","cached","transformFileSync","babelrc","sourceMaps","ast","code","shouldIgnore","split","sep","indexOf","loader","m","_compile","registerExtension","ext","old","_exts","forEach","canCompile","EXTENSIONS","module"],"mappings":"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","file":"node.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n\nvar _keys = require(\"babel-runtime/core-js/object/keys\");\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _stringify = require(\"babel-runtime/core-js/json/stringify\");\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nexports.default = function () {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  if (opts.only != null) only = _babelCore.util.arrayify(opts.only, _babelCore.util.regexify);\n  if (opts.ignore != null) ignore = _babelCore.util.arrayify(opts.ignore, _babelCore.util.regexify);\n\n  if (opts.extensions) hookExtensions(_babelCore.util.arrayify(opts.extensions));\n\n  if (opts.cache === false) cache = null;\n\n  delete opts.extensions;\n  delete opts.ignore;\n  delete opts.cache;\n  delete opts.only;\n\n  (0, _extend2.default)(transformOpts, opts);\n};\n\nvar _cloneDeep = require(\"lodash/cloneDeep\");\n\nvar _cloneDeep2 = _interopRequireDefault(_cloneDeep);\n\nvar _sourceMapSupport = require(\"source-map-support\");\n\nvar _sourceMapSupport2 = _interopRequireDefault(_sourceMapSupport);\n\nvar _cache = require(\"./cache\");\n\nvar registerCache = _interopRequireWildcard(_cache);\n\nvar _extend = require(\"lodash/extend\");\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _babelCore = require(\"babel-core\");\n\nvar babel = _interopRequireWildcard(_babelCore);\n\nvar _fs = require(\"fs\");\n\nvar _fs2 = _interopRequireDefault(_fs);\n\nvar _path = require(\"path\");\n\nvar _path2 = _interopRequireDefault(_path);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_sourceMapSupport2.default.install({\n  handleUncaughtExceptions: false,\n  environment: \"node\",\n  retrieveSourceMap: function retrieveSourceMap(source) {\n    var map = maps && maps[source];\n    if (map) {\n      return {\n        url: null,\n        map: map\n      };\n    } else {\n      return null;\n    }\n  }\n});\n\nregisterCache.load();\nvar cache = registerCache.get();\n\nvar transformOpts = {};\n\nvar ignore = void 0;\nvar only = void 0;\n\nvar oldHandlers = {};\nvar maps = {};\n\nvar cwd = process.cwd();\n\nfunction getRelativePath(filename) {\n  return _path2.default.relative(cwd, filename);\n}\n\nfunction mtime(filename) {\n  return +_fs2.default.statSync(filename).mtime;\n}\n\nfunction compile(filename) {\n  var result = void 0;\n\n  var opts = new _babelCore.OptionManager().init((0, _extend2.default)({ sourceRoot: _path2.default.dirname(filename) }, (0, _cloneDeep2.default)(transformOpts), { filename: filename }));\n\n  var cacheKey = (0, _stringify2.default)(opts) + \":\" + babel.version;\n\n  var env = process.env.BABEL_ENV || process.env.NODE_ENV;\n  if (env) cacheKey += \":\" + env;\n\n  if (cache) {\n    var cached = cache[cacheKey];\n    if (cached && cached.mtime === mtime(filename)) {\n      result = cached;\n    }\n  }\n\n  if (!result) {\n    result = babel.transformFileSync(filename, (0, _extend2.default)(opts, {\n      babelrc: false,\n      sourceMaps: \"both\",\n      ast: false\n    }));\n  }\n\n  if (cache) {\n    cache[cacheKey] = result;\n    result.mtime = mtime(filename);\n  }\n\n  maps[filename] = result.map;\n\n  return result.code;\n}\n\nfunction shouldIgnore(filename) {\n  if (!ignore && !only) {\n    return getRelativePath(filename).split(_path2.default.sep).indexOf(\"node_modules\") >= 0;\n  } else {\n    return _babelCore.util.shouldIgnore(filename, ignore || [], only);\n  }\n}\n\nfunction loader(m, filename) {\n  m._compile(compile(filename), filename);\n}\n\nfunction registerExtension(ext) {\n  var old = oldHandlers[ext] || oldHandlers[\".js\"] || require.extensions[\".js\"];\n\n  require.extensions[ext] = function (m, filename) {\n    if (shouldIgnore(filename)) {\n      old(m, filename);\n    } else {\n      loader(m, filename, old);\n    }\n  };\n}\n\nfunction hookExtensions(_exts) {\n  (0, _keys2.default)(oldHandlers).forEach(function (ext) {\n    var old = oldHandlers[ext];\n    if (old === undefined) {\n      delete require.extensions[ext];\n    } else {\n      require.extensions[ext] = old;\n    }\n  });\n\n  oldHandlers = {};\n\n  _exts.forEach(function (ext) {\n    oldHandlers[ext] = require.extensions[ext];\n    registerExtension(ext);\n  });\n}\n\nhookExtensions(_babelCore.util.canCompile.EXTENSIONS);\n\nmodule.exports = exports[\"default\"];"]}