{"version":3,"sources":["../../../../node_modules/babel-generator/lib/whitespace.js"],"names":["exports","__esModule","_classCallCheck2","require","_classCallCheck3","_interopRequireDefault","obj","default","Whitespace","tokens","used","prototype","getNewlinesBefore","node","startToken","endToken","index","_findToken","token","start","length","_getNewlinesBetween","getNewlinesAfter","end","type","label","loc","line","lines","test","middle","match","module"],"mappings":"AAAA;;AAEAA,QAAQC,UAAR,GAAqB,IAArB;;AAEA,IAAIC,mBAAmBC,QAAQ,sCAAR,CAAvB;;AAEA,IAAIC,mBAAmBC,uBAAuBH,gBAAvB,CAAvB;;AAEA,SAASG,sBAAT,CAAgCC,GAAhC,EAAqC;AAAE,SAAOA,OAAOA,IAAIL,UAAX,GAAwBK,GAAxB,GAA8B,EAAEC,SAASD,GAAX,EAArC;AAAwD;;AAE/F,IAAIE,aAAa,YAAY;AAC3B,WAASA,UAAT,CAAoBC,MAApB,EAA4B;AAC1B,KAAC,GAAGL,iBAAiBG,OAArB,EAA8B,IAA9B,EAAoCC,UAApC;;AAEA,SAAKC,MAAL,GAAcA,MAAd;AACA,SAAKC,IAAL,GAAY,EAAZ;AACD;;AAEDF,aAAWG,SAAX,CAAqBC,iBAArB,GAAyC,SAASA,iBAAT,CAA2BC,IAA3B,EAAiC;AACxE,QAAIC,aAAa,KAAK,CAAtB;AACA,QAAIC,WAAW,KAAK,CAApB;AACA,QAAIN,SAAS,KAAKA,MAAlB;;AAEA,QAAIO,QAAQ,KAAKC,UAAL,CAAgB,UAAUC,KAAV,EAAiB;AAC3C,aAAOA,MAAMC,KAAN,GAAcN,KAAKM,KAA1B;AACD,KAFW,EAET,CAFS,EAENV,OAAOW,MAFD,CAAZ;AAGA,QAAIJ,SAAS,CAAb,EAAgB;AACd,aAAOA,SAASH,KAAKM,KAAL,KAAeV,OAAOO,QAAQ,CAAf,EAAkBG,KAAjD,EAAwD;AACtD,UAAEH,KAAF;AACD,oBAAaP,OAAOO,QAAQ,CAAf,CAAb;AACDD,iBAAWN,OAAOO,KAAP,CAAX;AACD;;AAED,WAAO,KAAKK,mBAAL,CAAyBP,UAAzB,EAAqCC,QAArC,CAAP;AACD,GAhBD;;AAkBAP,aAAWG,SAAX,CAAqBW,gBAArB,GAAwC,SAASA,gBAAT,CAA0BT,IAA1B,EAAgC;AACtE,QAAIC,aAAa,KAAK,CAAtB;AACA,QAAIC,WAAW,KAAK,CAApB;AACA,QAAIN,SAAS,KAAKA,MAAlB;;AAEA,QAAIO,QAAQ,KAAKC,UAAL,CAAgB,UAAUC,KAAV,EAAiB;AAC3C,aAAOA,MAAMK,GAAN,GAAYV,KAAKU,GAAxB;AACD,KAFW,EAET,CAFS,EAENd,OAAOW,MAFD,CAAZ;AAGA,QAAIJ,SAAS,CAAb,EAAgB;AACd,aAAOA,SAASH,KAAKU,GAAL,KAAad,OAAOO,QAAQ,CAAf,EAAkBO,GAA/C,EAAoD;AAClD,UAAEP,KAAF;AACD,oBAAaP,OAAOO,KAAP,CAAb;AACDD,iBAAWN,OAAOO,QAAQ,CAAf,CAAX;AACA,UAAID,YAAYA,SAASS,IAAT,CAAcC,KAAd,KAAwB,GAAxC,EAA6CV,WAAWN,OAAOO,QAAQ,CAAf,CAAX;AAC9C;;AAED,QAAID,YAAYA,SAASS,IAAT,CAAcC,KAAd,KAAwB,KAAxC,EAA+C;AAC7C,aAAO,CAAP;AACD,KAFD,MAEO;AACL,aAAO,KAAKJ,mBAAL,CAAyBP,UAAzB,EAAqCC,QAArC,CAAP;AACD;AACF,GArBD;;AAuBAP,aAAWG,SAAX,CAAqBU,mBAArB,GAA2C,SAASA,mBAAT,CAA6BP,UAA7B,EAAyCC,QAAzC,EAAmD;AAC5F,QAAI,CAACA,QAAD,IAAa,CAACA,SAASW,GAA3B,EAAgC,OAAO,CAAP;;AAEhC,QAAIP,QAAQL,aAAaA,WAAWY,GAAX,CAAeH,GAAf,CAAmBI,IAAhC,GAAuC,CAAnD;AACA,QAAIJ,MAAMR,SAASW,GAAT,CAAaP,KAAb,CAAmBQ,IAA7B;AACA,QAAIC,QAAQ,CAAZ;;AAEA,SAAK,IAAID,OAAOR,KAAhB,EAAuBQ,OAAOJ,GAA9B,EAAmCI,MAAnC,EAA2C;AACzC,UAAI,OAAO,KAAKjB,IAAL,CAAUiB,IAAV,CAAP,KAA2B,WAA/B,EAA4C;AAC1C,aAAKjB,IAAL,CAAUiB,IAAV,IAAkB,IAAlB;AACAC;AACD;AACF;;AAED,WAAOA,KAAP;AACD,GAfD;;AAiBApB,aAAWG,SAAX,CAAqBM,UAArB,GAAkC,SAASA,UAAT,CAAoBY,IAApB,EAA0BV,KAA1B,EAAiCI,GAAjC,EAAsC;AACtE,QAAIJ,SAASI,GAAb,EAAkB,OAAO,CAAC,CAAR;AAClB,QAAIO,SAASX,QAAQI,GAAR,KAAgB,CAA7B;AACA,QAAIQ,QAAQF,KAAK,KAAKpB,MAAL,CAAYqB,MAAZ,CAAL,CAAZ;AACA,QAAIC,QAAQ,CAAZ,EAAe;AACb,aAAO,KAAKd,UAAL,CAAgBY,IAAhB,EAAsBC,SAAS,CAA/B,EAAkCP,GAAlC,CAAP;AACD,KAFD,MAEO,IAAIQ,QAAQ,CAAZ,EAAe;AACpB,aAAO,KAAKd,UAAL,CAAgBY,IAAhB,EAAsBV,KAAtB,EAA6BW,MAA7B,CAAP;AACD,KAFM,MAEA,IAAIC,UAAU,CAAd,EAAiB;AACtB,aAAOD,MAAP;AACD;AACD,WAAO,CAAC,CAAR;AACD,GAZD;;AAcA,SAAOtB,UAAP;AACD,CAjFgB,EAAjB;;AAmFAR,QAAQO,OAAR,GAAkBC,UAAlB;AACAwB,OAAOhC,OAAP,GAAiBA,QAAQ,SAAR,CAAjB","file":"whitespace.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Whitespace = function () {\n  function Whitespace(tokens) {\n    (0, _classCallCheck3.default)(this, Whitespace);\n\n    this.tokens = tokens;\n    this.used = {};\n  }\n\n  Whitespace.prototype.getNewlinesBefore = function getNewlinesBefore(node) {\n    var startToken = void 0;\n    var endToken = void 0;\n    var tokens = this.tokens;\n\n    var index = this._findToken(function (token) {\n      return token.start - node.start;\n    }, 0, tokens.length);\n    if (index >= 0) {\n      while (index && node.start === tokens[index - 1].start) {\n        --index;\n      }startToken = tokens[index - 1];\n      endToken = tokens[index];\n    }\n\n    return this._getNewlinesBetween(startToken, endToken);\n  };\n\n  Whitespace.prototype.getNewlinesAfter = function getNewlinesAfter(node) {\n    var startToken = void 0;\n    var endToken = void 0;\n    var tokens = this.tokens;\n\n    var index = this._findToken(function (token) {\n      return token.end - node.end;\n    }, 0, tokens.length);\n    if (index >= 0) {\n      while (index && node.end === tokens[index - 1].end) {\n        --index;\n      }startToken = tokens[index];\n      endToken = tokens[index + 1];\n      if (endToken && endToken.type.label === \",\") endToken = tokens[index + 2];\n    }\n\n    if (endToken && endToken.type.label === \"eof\") {\n      return 1;\n    } else {\n      return this._getNewlinesBetween(startToken, endToken);\n    }\n  };\n\n  Whitespace.prototype._getNewlinesBetween = function _getNewlinesBetween(startToken, endToken) {\n    if (!endToken || !endToken.loc) return 0;\n\n    var start = startToken ? startToken.loc.end.line : 1;\n    var end = endToken.loc.start.line;\n    var lines = 0;\n\n    for (var line = start; line < end; line++) {\n      if (typeof this.used[line] === \"undefined\") {\n        this.used[line] = true;\n        lines++;\n      }\n    }\n\n    return lines;\n  };\n\n  Whitespace.prototype._findToken = function _findToken(test, start, end) {\n    if (start >= end) return -1;\n    var middle = start + end >>> 1;\n    var match = test(this.tokens[middle]);\n    if (match < 0) {\n      return this._findToken(test, middle + 1, end);\n    } else if (match > 0) {\n      return this._findToken(test, start, middle);\n    } else if (match === 0) {\n      return middle;\n    }\n    return -1;\n  };\n\n  return Whitespace;\n}();\n\nexports.default = Whitespace;\nmodule.exports = exports[\"default\"];"]}