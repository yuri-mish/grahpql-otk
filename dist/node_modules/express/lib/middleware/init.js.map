{"version":3,"sources":["../../../../../node_modules/express/lib/middleware/init.js"],"names":["setPrototypeOf","require","exports","init","app","expressInit","req","res","next","enabled","setHeader","request","response","locals","Object","create"],"mappings":"AAAA;;;;;;;;AAQA;;AAEA;;;;;AAKA,IAAIA,iBAAiBC,QAAQ,gBAAR,CAArB;;AAEA;;;;;;;;;;AAUAC,QAAQC,IAAR,GAAe,UAASC,GAAT,EAAa;AAC1B,SAAO,SAASC,WAAT,CAAqBC,GAArB,EAA0BC,GAA1B,EAA+BC,IAA/B,EAAoC;AACzC,QAAIJ,IAAIK,OAAJ,CAAY,cAAZ,CAAJ,EAAiCF,IAAIG,SAAJ,CAAc,cAAd,EAA8B,SAA9B;AACjCJ,QAAIC,GAAJ,GAAUA,GAAV;AACAA,QAAID,GAAJ,GAAUA,GAAV;AACAA,QAAIE,IAAJ,GAAWA,IAAX;;AAEAR,mBAAeM,GAAf,EAAoBF,IAAIO,OAAxB;AACAX,mBAAeO,GAAf,EAAoBH,IAAIQ,QAAxB;;AAEAL,QAAIM,MAAJ,GAAaN,IAAIM,MAAJ,IAAcC,OAAOC,MAAP,CAAc,IAAd,CAA3B;;AAEAP;AACD,GAZD;AAaD,CAdD","file":"init.js","sourcesContent":["/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar setPrototypeOf = require('setprototypeof')\n\n/**\n * Initialization middleware, exposing the\n * request and response to each other, as well\n * as defaulting the X-Powered-By header field.\n *\n * @param {Function} app\n * @return {Function}\n * @api private\n */\n\nexports.init = function(app){\n  return function expressInit(req, res, next){\n    if (app.enabled('x-powered-by')) res.setHeader('X-Powered-By', 'Express');\n    req.res = res;\n    res.req = req;\n    req.next = next;\n\n    setPrototypeOf(req, app.request)\n    setPrototypeOf(res, app.response)\n\n    res.locals = res.locals || Object.create(null);\n\n    next();\n  };\n};\n\n"]}