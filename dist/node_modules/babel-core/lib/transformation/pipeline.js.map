{"version":3,"sources":["../../../../../node_modules/babel-core/lib/transformation/pipeline.js"],"names":["exports","__esModule","_classCallCheck2","require","_classCallCheck3","_interopRequireDefault","_normalizeAst","_normalizeAst2","_plugin","_plugin2","_file","_file2","obj","default","Pipeline","prototype","lint","code","opts","arguments","length","undefined","mode","transform","pretransform","file","wrap","addCode","parseCode","analyse","visitor","plugins","push","metadata","transformFromAst","ast","addAst","module"],"mappings":"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","file":"pipeline.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _normalizeAst = require(\"../helpers/normalize-ast\");\n\nvar _normalizeAst2 = _interopRequireDefault(_normalizeAst);\n\nvar _plugin = require(\"./plugin\");\n\nvar _plugin2 = _interopRequireDefault(_plugin);\n\nvar _file = require(\"./file\");\n\nvar _file2 = _interopRequireDefault(_file);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Pipeline = function () {\n  function Pipeline() {\n    (0, _classCallCheck3.default)(this, Pipeline);\n  }\n\n  Pipeline.prototype.lint = function lint(code) {\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    opts.code = false;\n    opts.mode = \"lint\";\n    return this.transform(code, opts);\n  };\n\n  Pipeline.prototype.pretransform = function pretransform(code, opts) {\n    var file = new _file2.default(opts, this);\n    return file.wrap(code, function () {\n      file.addCode(code);\n      file.parseCode(code);\n      return file;\n    });\n  };\n\n  Pipeline.prototype.transform = function transform(code, opts) {\n    var file = new _file2.default(opts, this);\n    return file.wrap(code, function () {\n      file.addCode(code);\n      file.parseCode(code);\n      return file.transform();\n    });\n  };\n\n  Pipeline.prototype.analyse = function analyse(code) {\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var visitor = arguments[2];\n\n    opts.code = false;\n    if (visitor) {\n      opts.plugins = opts.plugins || [];\n      opts.plugins.push(new _plugin2.default({ visitor: visitor }));\n    }\n    return this.transform(code, opts).metadata;\n  };\n\n  Pipeline.prototype.transformFromAst = function transformFromAst(ast, code, opts) {\n    ast = (0, _normalizeAst2.default)(ast);\n\n    var file = new _file2.default(opts, this);\n    return file.wrap(code, function () {\n      file.addCode(code);\n      file.addAst(ast);\n      return file.transform();\n    });\n  };\n\n  return Pipeline;\n}();\n\nexports.default = Pipeline;\nmodule.exports = exports[\"default\"];"]}